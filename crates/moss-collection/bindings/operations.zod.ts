// Generated by ts-to-zod
import { resourceKeySchema } from "@repo/bindings-utils";
import { z } from "zod";
import {
  entryIdSchema,
  headerParamItemSchema,
  httpMethodSchema,
  pathChangeKindSchema,
  pathParamItemSchema,
  queryParamItemSchema,
  requestBodySchema,
  requestNodeInfoSchema,
} from "./types.zod";

export const createRequestDirEntryInputSchema = z.object({
  destination: z.string(),
});

export const createRequestGroupInputSchema = z.object({
  path: z.string(),
});

export const streamEntriesByPrefixesInputSchema = z.array(z.string());
export const createRequestDirEntryOutputSchema = z.object({
  changedPaths: z.array(z.tuple([z.string(), entryIdSchema, pathChangeKindSchema])),
});

export const createRequestProtocolSpecificPayloadSchema = z.object({
  "http": z.object({
    method: httpMethodSchema,
    query_params: z.array(queryParamItemSchema),
    path_params: z.array(pathParamItemSchema),
    headers: z.array(headerParamItemSchema),
    body: requestBodySchema.nullable(),
  }),
});

export const createRequestEntryOutputSchema = z.object({
  changedPaths: z.array(z.tuple([z.string(), entryIdSchema, pathChangeKindSchema])),
});

export const createRequestGroupOutputSchema = z.object({
  key: resourceKeySchema,
});

export const deleteRequestDirEntryInputSchema = z.object({
  id: entryIdSchema,
});

export const deleteRequestDirEntryOutputSchema = z.object({
  changedPaths: z.array(z.tuple([z.string(), entryIdSchema, pathChangeKindSchema])),
});

export const deleteRequestGroupInputSchema = z.object({
  key: resourceKeySchema,
});

export const deleteRequestInputSchema = z.object({
  key: resourceKeySchema,
});

export const listRequestsOutputSchema = z.array(requestNodeInfoSchema);

export const renameRequestGroupInputSchema = z.object({
  key: resourceKeySchema,
  newName: z.string(),
});

export const renameRequestGroupOutputSchema = z.object({
  key: resourceKeySchema,
  affectedItems: z.array(resourceKeySchema),
});

export const renameRequestInputSchema = z.object({
  key: resourceKeySchema,
  newName: z.string(),
});

export const updateRequestDirEntryInputSchema = z.object({
  id: entryIdSchema,
  name: z.string().optional(),
});

export const updateRequestDirEntryOutputSchema = z.object({
  changedPaths: z.array(z.tuple([z.string(), entryIdSchema, pathChangeKindSchema])),
});

export const createRequestEntryInputSchema = z.object({
  destination: z.string(),
  url: z.string().optional(),
  payload: createRequestProtocolSpecificPayloadSchema.optional(),
});
