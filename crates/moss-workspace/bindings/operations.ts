// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.
import { ChangePath, ChangeString } from "@repo/moss-bindingutils";
import type { ChangeCollectionId } from "./primitives";
import type {
  ActivitybarPartStateInfo,
  AddVariableParams,
  EditorPartStateInfo,
  EnvironmentGroup,
  GitHubImportParams,
  GitLabImportParams,
  PanelPartStateInfo,
  SidebarPartStateInfo,
  UpdateCollectionParams,
  UpdateEnvironmentGroupParams,
  UpdateEnvironmentParams,
  UpdateVariableParams,
  VariableInfo,
} from "./types";

/**
 * @category Operation
 */
export type BatchUpdateCollectionInput = { items: Array<UpdateCollectionParams> };

/**
 * @category Operation
 */
export type BatchUpdateCollectionOutput = { ids: Array<string> };

/**
 * @category Operation
 */
export type BatchUpdateEnvironmentGroupInput = { items: Array<UpdateEnvironmentGroupParams> };

/**
 * @category Operation
 */
export type BatchUpdateEnvironmentInput = { items: Array<UpdateEnvironmentParams> };

/**
 * @category Operation
 */
export type BatchUpdateEnvironmentOutput = { ids: Array<string> };

export type CreateCollectionGitParams = { "gitHub": GitHubCreateParams } | { "gitLab": GitLabCreateParams };

/**
 * @category Operation
 */
export type CreateCollectionInput = {
  name: string;
  order: number;
  externalPath?: string;
  gitParams?: CreateCollectionGitParams;
  iconPath?: string;
};

/**
 * @category Operation
 */
export type CreateCollectionOutput = { id: string; name: string; order?: number; expanded: boolean; iconPath?: string };

/**
 * @category Type
 */
export type CreateCollectionParams = {
  name: string;
  order: number;
  externalPath?: string;
  gitParams?: CreateCollectionGitParams;
  iconPath?: string;
};

/**
 * @category Operation
 */
export type CreateEnvironmentInput = {
  collectionId?: string;
  name: string;
  order: number;
  color?: string;
  variables: Array<AddVariableParams>;
};

/**
 * @category Operation
 */
export type CreateEnvironmentOutput = {
  id: string;
  collectionId?: string;
  name: string;
  order?: number;
  color?: string;
};

/**
 * @category Operation
 */
export type DeleteCollectionInput = { id: string };

/**
 * @category Operation
 */
export type DeleteCollectionOutput = { id: string };

/**
 * @category Operation
 */
export type DeleteEnvironmentInput = { id: string };

/**
 * @category Operation
 */
export type DeleteEnvironmentOutput = { id: string };

/**
 * @category Operation
 */
export type DescribeEnvironmentInput = { id: string };

/**
 * @category Operation
 */
export type DescribeEnvironmentOutput = { variables: VariableInfo };

/**
 * @category Operation
 */
export type DescribeStateOutput = {
  editor?: EditorPartStateInfo;
  sidebar?: SidebarPartStateInfo;
  panel?: PanelPartStateInfo;
  activitybar?: ActivitybarPartStateInfo;
};

export type GitHubCreateParams = {
  repository: string;
  /**
   * The name of the default branch
   */
  branch: string;
};

export type GitLabCreateParams = {
  repository: string;
  /**
   * The name of the default branch
   */
  branch: string;
};

export type ImportCollectionInput = {
  name: string;
  order: number;
  externalPath?: string;
  source: ImportCollectionSource;
  iconPath?: string;
};

/**
 * @category Operation
 */
export type ImportCollectionOutput = { id: string; name: string; order?: number; expanded: boolean; iconPath?: string };

export type ImportCollectionParams = {
  name: string;
  order: number;
  externalPath?: string;
  source: ImportCollectionSource;
  iconPath?: string;
};

export type ImportCollectionSource = { "gitHub": GitHubImportParams } | { "gitLab": GitLabImportParams };

/**
 * @category Operation
 */
export type StreamCollectionsOutput = {};

/**
 * @category Operation
 */
export type StreamEnvironmentsOutput = { groups: Array<EnvironmentGroup> };

/**
 * @category Operation
 */
export type UpdateCollectionInput = {
  id: string;
  name?: string;
  repository?: ChangeString;
  iconPath?: ChangePath;
  order?: number;
  expanded?: boolean;
};

/**
 * @category Operation
 */
export type UpdateCollectionOutput = { id: string };

/**
 * @category Operation
 */
export type UpdateEnvironmentGroupInput = { collectionId: string; expanded?: boolean; order?: number };

/**
 * @category Operation
 */
export type UpdateEnvironmentInput = {
  id: string;
  /**
   * When updating an environment, we can move it to another collection
   * or remove its link to a specific collection to make it global.
   */
  collectionId?: ChangeCollectionId;
  name?: string;
  order?: number;
  color?: ChangeString;
  expanded?: boolean;
  varsToAdd: Array<AddVariableParams>;
  varsToUpdate: Array<UpdateVariableParams>;
  varsToDelete: Array<string>;
};

/**
 * @category Operation
 */
export type UpdateEnvironmentOutput = { id: string };

/**
 * @category Operation
 */
export type UpdateStateInput =
  | { "updateEditorPartState": EditorPartStateInfo }
  | { "updateSidebarPartState": SidebarPartStateInfo }
  | { "updatePanelPartState": PanelPartStateInfo }
  | { "updateActivitybarPartState": ActivitybarPartStateInfo };
