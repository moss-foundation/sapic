pre-commit:
  parallel: true
  jobs:
    - name: "Generate licenses"
      run: make gen-license
      always_run: true
      stage_fixed: true

    - name: "Format Rust code"
      run: cargo +nightly fmt --all -- --unstable-features
      glob: "**/*.rs"
      stage_fixed: true

    - name: "Format TypeScript code"
      run: pnpm exec lint-staged
      glob: "**/*.{js,jsx,ts,tsx,css,md,json}"
      stage_fixed: true
